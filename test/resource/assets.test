var Files =  {
	'main.js': `
		require('./styles/icons.less');
	`,
	'styles/icons.less': `
		.gear { background: url("icons/grear.png") center; }
		.user { background: url("/styles/icons/user.png") center; }
	`,
};
UTest({
	$before () {
		TestHelper.registerFiles(Files);
	},
	'should get resource tree from files' () {
		return Bundler.getResources('main.js').done(resources => {
			var urls = resources.map(x => x.url);
			deepEq_(urls, [ "main.js", "styles/icons.less" ]);
			logger.log(resources[1].content, "")
			var assets = Bundler.AssetsManager.getAssets();

			var arr = assets.map(x => x.toTarget().toJSON())
			logger.log(arr);
		})
	}
});